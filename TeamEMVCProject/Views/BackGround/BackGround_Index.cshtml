@using TeamEMVCProject.Models
@model TeamEMVCProject.Models.UserModel
@{
    Layout = "~/Views/Shared/_BackGroundLayout.cshtml";

    DbHelper db = new DbHelper();
    //用户列表信息
    Array user = db.LoginModule.ToArray();
    int count = 1;
    Dictionary<int, TeamEMVCProject.Models.UserModel> userInfos = user.Cast<UserModel>().ToDictionary(item => count++);
}

  <div class="templatemo-flex-row flex-content-row">
    <div class="col-1">
        <div class="templatemo-content-widget orange-bg">
            <i class="fa fa-times"></i>
            <div class="media">
                <div class="media-left">
                    <a href="#">
                        <img class="media-object img-circle" src="~/assets/images/InformationDataBase.jpg">
                    </a>
                </div>
                <div class="media-body">
                    <h2 class="media-heading text-uppercase">资料库</h2>
                    <p>有关虚幻4引擎官方文档部分内容已翻译完毕！</p>
                </div>
            </div>
        </div>
        <div class="templatemo-content-widget blue-bg">
            <i class="fa fa-times"></i>
            <div class="media">
                <div class="media-left">
                    <a href="#">
                        <img class="media-object img-circle" src="~/assets/images/lastedproduct.jpg">
                    </a>
                </div>
                <div class="media-body">
                    <h2 class="media-heading text-uppercase">近期作品</h2>
                    <p>作品管理展示基础模块已完成。</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-1">
        <div class="templatemo-content-widget green-bg">
            <i class="fa fa-times"></i>
            <div class="media">
                <div class="media-left">
                    <a href="#">
                        <img class="media-object img-circle" src="~/assets/images/article.png">
                    </a>
                </div>
                <div class="media-body">
                    <h2 class="media-heading text-uppercase">技术文章</h2>
                    <p>技术文章板块基础模块已完成！</p>
                </div>
            </div>
        </div>
        <div class="templatemo-content-widget yellow-bg">
            <i class="fa fa-times"></i>
            <div class="media">
                <div class="media-left">
                    <a href="#">
                        <img class="media-object img-circle" src="~/assets/images/dataAnalysis.jpg">
                    </a>
                </div>
                <div class="media-body">
                    <h2 class="media-heading text-uppercase">数据分析</h2>
                    <p>TODO:数据分析板块：与google图表模块挂接成功。仍未开发完善。</p>
                </div>
            </div>
        </div>
    </div>
</div> 
@*用户信息*@
<div class="templatemo-flex-row flex-content-row">
    <div class="col-2">
        <div class="panel panel-default templatemo-content-widget white-bg no-padding templatemo-overflow-hidden">
            <i class="fa fa-times"></i>
            <div class="panel-heading templatemo-position-relative"><h2 class="text-uppercase">用户列表</h2></div>
            <div class="table-responsive">
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <td>编号</td>
                            <td>用户名</td>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            foreach (var u in userInfos)
                            {
                                <tr>
                                    <td>@u.Key</td>
                                    <td>@u.Value.UserName</td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
    @*<div class="templatemo-flex-row flex-content-row">
            <div class="templatemo-content-widget white-bg col-2">
                <i class="fa fa-times"></i>
                <div class="square"></div>
                <h2 class="templatemo-inline-block">Visual Admin Template</h2><hr>
                <p>Works on all major browsers. IE 10+. Visual Admin is <a href="http://www.templatemo.com/tag/admin" target="_parent">free responsive admin template</a> for everyone. Feel free to use this template for your backend user interfaces. Please tell your friends about <a href="http://www.templatemo.com" target="_parent">templatemo.com</a> website. You may <a href="http://www.templatemo.com/contact" target="_parent">contact us</a> if you have anything to say.</p>
                <p>Nunc placerat purus eu tincidunt consequat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus dapibus nulla quis risus auctor, non placerat augue consectetur. Fusce mi lacus, semper sit amet mattis eu.</p>
            </div>
            <div class="templatemo-content-widget white-bg col-1 text-center">
                <i class="fa fa-times"></i>
                <h2 class="text-uppercase">Maris</h2>
                <h3 class="text-uppercase margin-bottom-10">Design Project</h3>
                <img src="~/assets/images/bicycle.jpg" alt="Bicycle" class="img-circle img-thumbnail">
            </div>
            <div class="templatemo-content-widget white-bg col-1">
                <i class="fa fa-times"></i>
                <h2 class="text-uppercase">Dictum</h2>
                <h3 class="text-uppercase">Sedvel Erat Non</h3><hr>
                <div class="progress">
                    <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"></div>
                </div>
                <div class="progress">
                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 50%;"></div>
                </div>
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"></div>
                </div>
            </div>
        </div>

        @*<div class="templatemo-flex-row flex-content-row templatemo-overflow-hidden">
            <!-- overflow hidden for iPad mini landscape view-->
            <div class="col-1 templatemo-overflow-hidden">
                <div class="templatemo-content-widget white-bg templatemo-overflow-hidden">
                    <i class="fa fa-times"></i>
                    <div class="templatemo-flex-row flex-content-row">
                        <div class="col-1 col-lg-6 col-md-12">
                            <h2 class="text-center">Modular<span class="badge">new</span></h2>
                            <div id="pie_chart_div" class="templatemo-chart"></div> <!-- Pie chart div -->
                        </div>
                        <div class="col-1 col-lg-6 col-md-12">
                            <h2 class="text-center">Interactive<span class="badge">new</span></h2>
                            <div id="bar_chart_div" class="templatemo-chart"></div> <!-- Bar chart div -->
                        </div>
                    </div>
                </div>
            </div>
        </div>*@


    <!-- JS -->
    <script src="~/assets/js/jquery-2.1.3.min.js"></script>      <!-- jQuery -->
    <script src="~/assets/js/jquery-migrate-1.2.1.min.js"></script> <!--  jQuery Migrate Plugin -->
    <script src="https://www.google.com/jsapi"></script> <!-- Google Chart -->

    <script>
        /* Google Chart
        -------------------------------------------------------------------*/
        // Load the Visualization API and the piechart package.
        google.load('visualization', '1.0', { 'packages': ['corechart'] });

        // Set a callback to run when the Google Visualization API is loaded.
        google.setOnLoadCallback(drawChart);

        // Callback that creates and populates a data table,
        // instantiates the pie chart, passes in the data and
        // draws it.
        function drawChart() {

            // Create the data table.
            var data = new google.visualization.DataTable();
            data.addColumn('string', 'Topping');
            data.addColumn('number', 'Slices');
            data.addRows([
              ['Mushrooms', 3],
              ['Onions', 1],
              ['Olives', 1],
              ['Zucchini', 1],
              ['Pepperoni', 2]
            ]);

            // Set chart options
            var options = { 'title': 'How Much Pizza I Ate Last Night' };

            // Instantiate and draw our chart, passing in some options.
            var pieChart = new google.visualization.PieChart(document.getElementById('pie_chart_div'));
            pieChart.draw(data, options);

            var barChart = new google.visualization.BarChart(document.getElementById('bar_chart_div'));
            barChart.draw(data, options);
        }

        $(document).ready(function () {
            if ($.browser.mozilla) {
                //refresh page on browser resize
                // http://www.sitepoint.com/jquery-refresh-page-browser-resize/
                $(window).bind('resize', function (e) {
                    if (window.RT) clearTimeout(window.RT);
                    window.RT = setTimeout(function () {
                        this.location.reload(false); /* false to get page from cache */
                    }, 200);
                });
            } else {
                $(window).resize(function () {
                    drawChart();
                });
            }
        });

    </script>
    <script type="text/javascript" src="~/assets/js/templatemo-script.js"></script>      <!-- Templatemo Script -->
